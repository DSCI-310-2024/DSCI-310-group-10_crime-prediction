<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.538">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group10">

<title>Predict and Classify the Appearance of Criminal Incidents based on historical incident reports</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="quarto_reports_files/libs/clipboard/clipboard.min.js"></script>
<script src="quarto_reports_files/libs/quarto-html/quarto.js"></script>
<script src="quarto_reports_files/libs/quarto-html/popper.min.js"></script>
<script src="quarto_reports_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="quarto_reports_files/libs/quarto-html/anchor.min.js"></script>
<link href="quarto_reports_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="quarto_reports_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="quarto_reports_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="quarto_reports_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="quarto_reports_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#data-preprocessing" id="toc-data-preprocessing" class="nav-link" data-scroll-target="#data-preprocessing">Data Preprocessing</a></li>
  <li><a href="#exploratory-data-analysis-visualizations" id="toc-exploratory-data-analysis-visualizations" class="nav-link" data-scroll-target="#exploratory-data-analysis-visualizations">Exploratory Data Analysis Visualizations</a></li>
  <li><a href="#perform-an-analysis" id="toc-perform-an-analysis" class="nav-link" data-scroll-target="#perform-an-analysis">Perform an Analysis</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="../quarto_reports.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Predict and Classify the Appearance of Criminal Incidents based on historical incident reports</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group10 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This analysis tries to build a logistic regression model that can predict whether the incident happened will be a criminal incident or not from the incident’s time period, day of the week, and the police district. The model is built upon the 2023 San Francisco Police Department.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Law enforcement agencies globally prioritize crime prevention and public safety. Effective policing requires strategically allocating resources to prevent crime and respond promptly to incidents <span class="citation" data-cites="predict_policing">(<a href="#ref-predict_policing" role="doc-biblioref">Walter L. Perry 2013</a>)</span>. In the past, police departments have depended on experience and intuition to determine patrol schedules and allocate resources. Advancements in data analysis and predictive modeling allow law enforcement organizations to take a more data-driven strategy. Some magazines stated that usually, many police incidents take place during the day but more violent incidents happen at night <span class="citation" data-cites="violent_study">(<a href="#ref-violent_study" role="doc-biblioref">Security 2019</a>)</span>.</p>
<p>Therefore, this analysis seeks to investigate the correlation between crime rates and various periods of the day (morning, afternoon, evening, night, and late night) through the analysis of 2023 police reports in San Francisco. The goal is to recognize trends that may suggest if certain time periods are linked to increased or decreased crime rates <span class="citation" data-cites="crime_prevention">(<a href="#ref-crime_prevention" role="doc-biblioref">Anthony A. Braga 2010</a>)</span>. This information could greatly improve police patrols by helping law enforcement organizations distribute resources wisely, promoting a proactive approach to crime prevention.</p>
<p>Comprehending the time-related patterns of criminal behavior is essential for creating specific treatments that can decrease crime rates and enhance community security <span class="citation" data-cites="crime_study">(<a href="#ref-crime_study" role="doc-biblioref">D’Angelo 2018</a>)</span>. This study aims to categorize time periods as having either high or low crime rates by utilizing 2023 police reports data. The goal is to provide a forecasting tool that can assist in decision-making for police patrol scheduling and resource allocation. This method has the capacity to enhance law enforcement activities and enhance public safety and security.</p>
<p>Our research aims to connect conventional policing approaches with current, data-driven methodologies to offer practical insights that help improve the efficiency and efficacy of crime prevention efforts.</p>
<p><strong>Research Question</strong>: Given 2023 San Francisco police reports, can we predict likelihood of the criminal incidents based on time period, day of week, and police district?</p>
<p><strong>Time Periods</strong>:</p>
<ul>
<li>Morning: 6:00am to 12:00pm</li>
<li>Afternoon: 12:01pm to 6:00pm</li>
<li>Evening: 6:01pm to 9:00pm</li>
<li>Night: 9:01pm to 12:00am</li>
<li>Late Night: 00:01am to 6:00am</li>
</ul>
<p><strong>Criminal Incidents</strong>: We defined criminal incidents according to the incidents’ subcategory.</p>
<p>criminal_incident = [“Larceny - From Vehicle”, “Vandalism”, “Larceny Theft - Other”, “Motor Vehicle Theft”, “Simple Assault”, “Drug Violation”, “Aggravated Assault”, “Fraud”, “Theft From Vehicle”, “Burglary - Other”, “Weapons Offense”, “Intimidation”, “Warrant”, “Larceny - Auto Parts”, “Other Offenses”, “Larceny Theft - From Building”, “Larceny Theft - Shoplifting”, “Robbery - Other”, “Burglary - Residential”, “Robbery - Street”, “Traffic Violation Arrest”, “Robbery - Commercial”, “Larceny Theft - Pickpocket”, “Forgery And Counterfeiting”, “Motor Vehicle Theft (Attempted)”, “Burglary - Hot Prowl”, “Prostitution”, “Burglary - Commercial”, “Disorderly Conduct”,“Arson”, “Larceny Theft - Bicycle”, “Embezzlement”, “Extortion-Blackmail”, “Sex Offense”]</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p>The data set is from the San Francisco Police Department’s(SFPD) Incident Report Dataset. The original link to the website is as follows: <em>https://data.sfgov.org/Public-Safety/Police-Department-Incident-Reports-2018-to-Present/wg3w-h783/about_data.</em> This original data set contains incident reports from 2018 to the present, but the link downloading the data set provides data contains 2023-specific data. These incident reports are filled by self-reported members or by officers using SFPD’s online reporting system. The data set contains 27 columns of useful information related to each specific incident, including date time, incident ID, etc .</p>
</section>
<section id="data-preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="data-preprocessing">Data Preprocessing</h2>
<p>The original data taken from the source is messy and contains many columns that are irrelevant to our analysis, so during this proprocessing part, we firstly remove the columns that we will not use. We have only kept columns that will be used later, i.e.&nbsp;“incident_datetime”, “incident_time”, “incident_day_of_week”, “incident_category”, “incident_subcategory”, “police_district”.</p>
<p>We then extract the hour and minutes of the incidents from the “incident_time” column as we can use these information to differentiate the time periods. We create a column called “time_period” that categorize each incidents to a time period according to the previsouly identified hour and minutes.</p>
<p>Next, we created a column called “if_crime” to identify whether the incident is criminal or not based on our previous definition. This column is binary as 1 means “this incident is a criminal incident” and 0 means “this incident is not a criminal incident.”</p>
<p>Finally, we will keep the necessary columns like the following table:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">incident_day_of_week</th>
<th style="text-align: left;">police_district</th>
<th>time_period</th>
<th style="text-align: center;">if_crime</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Monday</td>
<td style="text-align: left;">Out of SF</td>
<td>Night</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">Wednesday</td>
<td style="text-align: left;">Mission</td>
<td>Late Night</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Monday</td>
<td style="text-align: left;">Northern</td>
<td>Morning</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p>We have also looked at the cardinality of our dataset, the unique value of each column, and realize that some columns in our dataset may show a class imbalance. This imbalance will be a weakness of our analysis.</p>
</section>
<section id="exploratory-data-analysis-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis-visualizations">Exploratory Data Analysis Visualizations</h2>
<div id="fig-time-period-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-time-period-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/time_period_plot.png" class="img-fluid figure-img" style="width:40.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-time-period-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The Distribution of Time Period.
</figcaption>
</figure>
</div>
<p>The <a href="#fig-time-period-plot" class="quarto-xref">Figure&nbsp;1</a> depicts the distribution of incidents across different time periods, revealing a notable concentration of records in the afternoon. This observation suggests that a significant portion of incidents tend to occur during the afternoon hours.</p>
<p>We then look into how time period and day of the week interactively affect the number of incidents by creating the next image.</p>
<div id="fig-time-day" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-time-day-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/records_by_time_and_day_plot.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-time-day-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Incidents Records by Day &amp; Time Period
</figcaption>
</figure>
</div>
<p>The <a href="#fig-time-day" class="quarto-xref">Figure&nbsp;2</a> illustrates that the highest number of incident records typically occurs on Thursday afternoons, which aligns with the previously presented graph. While, the lowest incidence of records is observed during Monday late nights. Notably, both Mondays and Tuesdays exhibit relatively low average incident records. In contrast, Thursdays consistently demonstrate the highest average number of crime records. These findings suggest distinct patterns in incident occurrences across different days of the week, with Thursdays standing out as particularly significant in terms of crime frequency.</p>
</section>
<section id="perform-an-analysis" class="level2">
<h2 class="anchored" data-anchor-id="perform-an-analysis">Perform an Analysis</h2>
<section id="dummy-classifier" class="level3">
<h3 class="anchored" data-anchor-id="dummy-classifier">Dummy Classifier:</h3>
<div class="cell" data-execution_count="2">
<div id="tbl-dummy-score" class="cell quarto-float anchored" data-execution_count="2">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dummy-score-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Cross-validation results for DummyClassifier
</figcaption>
<div aria-describedby="tbl-dummy-score-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="18">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Fit Time</th>
<th style="text-align: right;">Score Time</th>
<th style="text-align: right;">Test Score</th>
<th style="text-align: right;">Train Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.00857844</td>
<td style="text-align: right;">0.000515461</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: right;">0.58</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="logistic-regression">Logistic Regression:</h3>
<div class="cell" data-execution_count="3">
<div id="tbl-cross-validation" class="cell quarto-float anchored" data-execution_count="3">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-cross-validation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Cross-validation results for LogisticRegression
</figcaption>
<div aria-describedby="tbl-cross-validation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="19">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Fit Time</th>
<th style="text-align: right;">Score Time</th>
<th style="text-align: right;">Test Score</th>
<th style="text-align: right;">Train Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0699021</td>
<td style="text-align: right;">0.00212359</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: right;">0.806786</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Comparing the performance of a DummyClassifier in <a href="#tbl-dummy-score" class="quarto-xref">Table&nbsp;1</a> to that of LogisticRegression in <a href="#tbl-cross-validation" class="quarto-xref">Table&nbsp;2</a>, reveals that LogisticRegression outperforms the DummyClassifier by predicting the most frequent class. However, there could be some improvements in our prediction accuracy for LogisticRegression.</p>
<div class="cell" data-execution_count="4">
<div id="tbl-coefficients" class="cell quarto-float anchored" data-execution_count="4">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-coefficients-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: The list of coefficients value for each feature in the LogisticRegression model
</figcaption>
<div aria-describedby="tbl-coefficients-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="20">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">Features</th>
<th style="text-align: center;">Coefficents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">incident_day_of_week_Friday</td>
<td style="text-align: center;">0.257086</td>
</tr>
<tr class="even">
<td style="text-align: center;">incident_day_of_week_Monday</td>
<td style="text-align: center;">-0.0248591</td>
</tr>
<tr class="odd">
<td style="text-align: center;">incident_day_of_week_Saturday</td>
<td style="text-align: center;">-0.100961</td>
</tr>
<tr class="even">
<td style="text-align: center;">incident_day_of_week_Sunday</td>
<td style="text-align: center;">0.268792</td>
</tr>
<tr class="odd">
<td style="text-align: center;">incident_day_of_week_Thursday</td>
<td style="text-align: center;">-0.0932274</td>
</tr>
<tr class="even">
<td style="text-align: center;">incident_day_of_week_Tuesday</td>
<td style="text-align: center;">-0.583675</td>
</tr>
<tr class="odd">
<td style="text-align: center;">incident_day_of_week_Wednesday</td>
<td style="text-align: center;">0.262755</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Bayview</td>
<td style="text-align: center;">0.313285</td>
</tr>
<tr class="odd">
<td style="text-align: center;">police_district_Central</td>
<td style="text-align: center;">0.737457</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Ingleside</td>
<td style="text-align: center;">-0.161772</td>
</tr>
<tr class="odd">
<td style="text-align: center;">police_district_Mission</td>
<td style="text-align: center;">-0.0619557</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Northern</td>
<td style="text-align: center;">-0.354096</td>
</tr>
<tr class="odd">
<td style="text-align: center;">police_district_Out of SF</td>
<td style="text-align: center;">-2.51084</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Park</td>
<td style="text-align: center;">0.335362</td>
</tr>
<tr class="odd">
<td style="text-align: center;">police_district_Richmond</td>
<td style="text-align: center;">1.10814</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Southern</td>
<td style="text-align: center;">0.483276</td>
</tr>
<tr class="odd">
<td style="text-align: center;">police_district_Taraval</td>
<td style="text-align: center;">0.56179</td>
</tr>
<tr class="even">
<td style="text-align: center;">police_district_Tenderloin</td>
<td style="text-align: center;">-0.464741</td>
</tr>
<tr class="odd">
<td style="text-align: center;">time_period_Afternoon</td>
<td style="text-align: center;">0.0693196</td>
</tr>
<tr class="even">
<td style="text-align: center;">time_period_Evening</td>
<td style="text-align: center;">-0.0870007</td>
</tr>
<tr class="odd">
<td style="text-align: center;">time_period_Late Night</td>
<td style="text-align: center;">-0.168627</td>
</tr>
<tr class="even">
<td style="text-align: center;">time_period_Morning</td>
<td style="text-align: center;">-0.063571</td>
</tr>
<tr class="odd">
<td style="text-align: center;">time_period_Night</td>
<td style="text-align: center;">0.235791</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>In <a href="#tbl-coefficients" class="quarto-xref">Table&nbsp;3</a>, the coefficients indicate the influence of each feature on predicting crime occurrences.</p>
<p>Notably, the largest positive coefficient corresponds to ‘police_district_Mission’, suggesting its significant impact on predicting crime. Conversely, the smallest negative coefficient is associated with ‘police_district_Out of SF’, indicating its minimal impact on crime prediction.</p>
<div id="fig-coefficents-lr-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-coefficents-lr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/coefficients_of_lr_model_plot.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-coefficents-lr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Coefficents of Logistic Regression Model
</figcaption>
</figure>
</div>
<p>The <a href="#fig-coefficents-lr-plot" class="quarto-xref">Figure&nbsp;3</a> illustrates the coefficients of the features in the Logistic Regression model.</p>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<section id="summarize-findings" class="level3">
<h3 class="anchored" data-anchor-id="summarize-findings">Summarize Findings</h3>
<p>Days of the Week: From the <a href="#fig-coefficents-lr-plot" class="quarto-xref">Figure&nbsp;3</a>, Tuesday and Wednesday show positive coefficients, suggesting a slight increase in the likelihood of incidents on these days. Conversely, Sunday exhibits a significantly negative coefficient, indicating a lower likelihood of incidents.</p>
<p>Police Districts: The ‘Mission’ and ‘Park’ districts display higher likelihoods of incidents with positive coefficients. In contrast, “Out of San Francisco” has a strongly negative coefficient, as expected due to its location outside the city’s jurisdiction.</p>
<p>Time Periods: The “Late Night” period has a positive coefficient, suggesting a higher likelihood of incidents during these hours. Conversely, “Afternoon” and “Night” have negative coefficients, indicating a lower likelihood of incidents.</p>
</section>
<section id="were-these-findings-expected" class="level3">
<h3 class="anchored" data-anchor-id="were-these-findings-expected">Were These Findings Expected?</h3>
<p>The results align with common expectations, such as a higher probability of incidents during late-night hours, possibly due to reduced visibility and fewer individuals present. The substantial negative coefficient for instances labeled ‘Out of SF’ is reasonable and highlights the model’s emphasis on geographical significance. The varied effects of different days of the week and police districts may indicate complex social and environmental factors influencing crime rates.</p>
</section>
<section id="impact-of-findings" class="level3">
<h3 class="anchored" data-anchor-id="impact-of-findings">Impact of Findings</h3>
<p>Analyzing time and location trends of criminal episodes can aid in strategic planning for law enforcement by optimizing resource allocation and establishing focused preventative strategies. These insights can inform safety alerts and enhance community policing efforts.</p>
</section>
<section id="future-questions" class="level3">
<h3 class="anchored" data-anchor-id="future-questions">Future Questions</h3>
<p>In-depth Examination of Districts: What factors contribute to higher occurrence probabilities in specific districts? Further exploration could consider socio-economic</p>
</section>
</section>
<section id="references" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-crime_prevention" class="csl-entry" role="listitem">
Anthony A. Braga, David L. Weisburd. 2010. <em>Policing Problem Places: Crime Hot Spots and Effective Prevention</em>. Oxford University Press.
</div>
<div id="ref-crime_study" class="csl-entry" role="listitem">
D’Angelo, Stephen. 2018. <span>“Criminal Behavior Linked to Thinking about Risk, Study Finds.”</span> <a href="https://news.cornell.edu/stories/2018/09/criminal-behavior-linked-thinking-about-risk-study-finds">https://news.cornell.edu/stories/2018/09/criminal-behavior-linked-thinking-about-risk-study-finds</a>.
</div>
<div id="ref-violent_study" class="csl-entry" role="listitem">
Security. 2019. <span>“Violent Crimes Most Likely to Occur at Night.”</span> <a href="https://www.securitymagazine.com/articles/90384-murder-robbery-and-driving-while-impaired-happen-at-night">https://www.securitymagazine.com/articles/90384-murder-robbery-and-driving-while-impaired-happen-at-night</a>.
</div>
<div id="ref-predict_policing" class="csl-entry" role="listitem">
Walter L. Perry, Carter C. Price, Brian McInnis. 2013. <em>Predictive Policing: The Role of Crime Forecasting in Law Enforcement Operations</em>. RAND Corporation.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>